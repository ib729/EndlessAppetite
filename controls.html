<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A terminal-style game about binge eating.">
    <title>Endless Appetite</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <audio id="bgMusic" autoplay loop>
        <source src="Underclocked - Eric Skiff.mp3" type="audio/mpeg">
    </audio>
    <div class="welcome">Welcome!</div>
    <div class="welcome-message">This is a simple story driven game about binge eating. You just gotta click 1, 2, or 3 to select your dialogue of choice, and the story will act out based on your decision. Also, when you are prompted to interact you just have to click space. Have fun! <br>
        <p>|-----------------------|</p>
        <p>1, 2, or 3 - Select</p>
        <p>Space - Interact</p>
        <p>Backspace - Go Back</p>
        <p>|-----------------------|</p>
    </div>
    <div class="continue">Press Enter to continue...</div>
    <footer>
        <p>&copy; 2025 Ivan Belousov. All rights reserved.</p>
    </footer>

    <script>
        const bgMusic = document.getElementById('bgMusic');
        bgMusic.volume = 0.5;

        // Resume from last position if exists
        const lastTime = sessionStorage.getItem('musicTime');
        if (lastTime) {
            bgMusic.currentTime = parseFloat(lastTime);
        }
        bgMusic.play();

        // Update time in storage periodically
        setInterval(() => {
            sessionStorage.setItem('musicTime', bgMusic.currentTime);
        }, 1000);
        
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Enter') {
                sessionStorage.setItem('musicTime', bgMusic.currentTime);
                window.location.href = 'game.html';
            }
            if (event.key === 'Backspace') {
                event.preventDefault();
                sessionStorage.setItem('musicTime', bgMusic.currentTime);
                window.location.href = 'index.html';
            }
        });
    </script>
</body>
</html>